# A simple decision made to simulate German Unification question if it's not completed after 1900
# This decision will make Austria and Prussia partitioning Germany: North Germany goes to Prussia, South Germany goes to Austria
# The outcome of the decision and the chain of events will depend on the global role of Prussia and Austria.
# If only one is a great power, then the other will have much greater freedom.
# This is an uchronia event

ztr_austrian_german_partition_treaty = {
	is_shown = {
		has_technology_researched = pan-nationalism
		country_rank = rank_value:great_power
		year > 1920
		# North German Confederation or Germany must not exist
		NOT = { exists = c:NGF }
		NOT = { exists = c:GER }
		exists = c:PRU
		exists = c:AUS
		OR = {
			c:PRU = root
			c:AUS = root
		}
		has_game_rule = allow_ztr_historical_content
		NOT = { has_global_variable = austrian_german_partition_treaty }
	}

	possible = {
		c:PRU = { NOT = { is_diplomatic_play_enemy_of = c:AUS} }
		c:AUS = { NOT = { is_diplomatic_play_enemy_of = c:PRU} }
	}

	when_taken = {
		set_global_variable = {
			name = austrian_german_partition_treaty
			value = 0
		}
		if = {
			limit = { c:AUS = root }
			c:PRU = { trigger_event = ztr_austrian_german_partition_treaty.1 } # Austrian Proposal
		}
		else = {
			c:AUS = { trigger_event = ztr_austrian_german_partition_treaty.2 } # Prussian Proposal
		}
	}

	ai_chance = {
		value = 10
	}
}

ztr_super_germany_sphere_of_influence = {
	is_shown = {
		year > 1915
		exists = c:GER
		c:GER = root
		NOT = { exists = c:AUS }
		OR = {
			s:STATE_LOMBARDY = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_VENETIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_SLAVONIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_DALMATIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_TRANSDANUBIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_NORTHERN_TRANSYLVANIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_SOUTHERN_TRANSYLVANIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_EAST_GALICIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
			s:STATE_SLOVAKIA = {
				any_scope_state = {
					owner = ROOT
				}
			}
		}
		has_variable = ztr_super_germany_sphere_var
		has_game_rule = allow_ztr_historical_content
	}

	possible = {

	}

	when_taken = {
		c:GER = { trigger_event = ztr_super_germany.2 }
	}

	ai_chance = {
		value = 1
	}
}

ztr_anschluss_decision = {
	is_shown = {
		NOT = { has_global_variable = ztr_anschluss_requested }
		year > 1930
		c:GER ?= this
		exists = c:AUS
		c:AUS = { has_variable = ztr_austria_has_collapsed_var } # Austrian Empire has collapsed
		has_game_rule = allow_ztr_historical_content
		OR = {
			ztr_is_totalitarian = yes # Germany is a dictatorship
			has_state_in_state_region = STATE_AUSTRIA # Germany controls Austria, so Anschluss is obvious
		}
	}

	possible = {
		c:AUS = { country_rank < rank_value:major_power }
	}

	when_taken = {
		set_global_variable = ztr_anschluss_requested
		c:AUS = { trigger_event = germany_pop.2 }
	}

	ai_chance = {
		value = 1000
	}
}

ztr_us_wants_to_buy_west_coast = {
	is_shown = {
		c:USA ?= root
		year > 1880
		NOT = { has_global_variable = ztr_west_coast_question }
		has_technology_researched = civilizing_mission
		has_game_rule = allow_ztr_historical_content
		c:MEX = { is_subject = no } # Mexico is independent
		has_strategic_land_adjacency = c:MEX # US borders Mexico
	}

	possible = {
		# Landowners are powerful or in government or it's not a democracy
		OR = {
			ig:ig_landowners = { is_powerful = yes }
			ig:ig_industrialists = { is_powerful = yes }
			ig:ig_landowners = { is_in_government = yes}
			ig:ig_industrialists = { is_in_government = yes }
			ztr_is_not_democratic = yes
			# A bit of 'help' if Mexico is player and USA is AI
			AND = {
				c:MEX = { is_player = yes }
				c:USA = { is_ai = yes }
			}
		}
		scaled_debt < 0.25 # Not too much debt, this
		gdp > 50000000
		OR = {
			NOT = { has_state_in_state_region = STATE_CALIFORNIA }
			NOT = { has_state_in_state_region = STATE_NEVADA }
			NOT = { has_state_in_state_region = STATE_UTAH }
			NOT = { has_state_in_state_region = STATE_COLORADO }
			NOT = { has_state_in_state_region = STATE_ARIZONA }
			NOT = { has_state_in_state_region = STATE_NEW_MEXICO }
			NOT = { has_state_in_state_region = STATE_TEXAS }
			NOT = { has_state_in_state_region = STATE_KANSAS }
			NOT = { has_state_in_state_region = STATE_OKLAHOMA }
		}
	}

	when_taken = {
		set_global_variable = ztr_west_coast_question
		c:MEX = { trigger_event = usa_economy.2 }
	}

	ai_chance = {
		value = 50
	}
}