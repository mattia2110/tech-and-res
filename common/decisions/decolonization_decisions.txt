#Legacy script for decolonization

decolonization_uae_decision = {

	is_shown = {
		has_global_variable = ztr_decolonization_age_var
		NOT = { is_subject = yes }
		NOT = {
			country_has_primary_culture = cu:bedouin
		}
		NOT = {
			OR = {
				c:BHN ?= root
				c:ABU ?= root
			}
		}
		OR = {
			s:STATE_ABU_DHABI = {
			any_scope_state = {
					owner = ROOT
				}
			}
		}
		has_game_rule = allow_ztr_decolonization_content
	}

	possible = {
	}

	when_taken = {
		change_infamy = -5
		if = {
			limit = {
				NOT = {
					exists = c:BHN
				}
			}
			create_country = {
			tag = BHN
			origin = this
			province = p:x505AE0
			on_created = {
				set_country_type = recognized
				activate_law = law_type:law_theocracy
			}
			}
		}
		if = {
			limit = {
				NOT = {
					exists = c:ABU
				}
			}
			create_country = {
			tag = ABU
			origin = this
			province = p:x65a581
			on_created = {
				set_country_type = recognized
				activate_law = law_type:law_theocracy
			}
			}
		}
		if = {
			limit = {
				s:STATE_ABU_DHABI = {
				any_scope_state = {
						owner = ROOT
					}
				}
			}
			s:STATE_ABU_DHABI = {
				set_owner_of_provinces = {
					country = c:BHN
					provinces = { x505AE0 x2768F8 xEF5020}
				}
				random_scope_state = {
					limit = {
						owner = root
					}
					set_state_owner = c:ABU
				}
			}
		}
		create_bidirectional_truce = { country = c:BHN months = 120 }
		create_bidirectional_truce = { country = c:ABU months = 120 }
	}

	ai_chance = {
		value = 5	
	}
}

#decolonization_india_decision from indian states

decolonization_india_decision = {

	is_shown = {
		has_game_rule = allow_ztr_decolonization_content		
		NOT = { has_variable = ztr_indian_unifier_var }
		# exists = scope:ztr_indian_unifier_scope
		# NOT = { scope:ztr_indian_unifier_scope = root }
		#NOT = { c:PAK ?= root } #Pakistan future addition
		#NOT = { c:BGD ?= root } #Bangladesh future addition
		OR = {
			AND = {
				has_technology_researched = pan-nationalism
				country_is_in_india = yes
			}
			AND = {
				has_global_variable = ztr_indian_unifier_global_var
				NOT = { country_is_in_india = yes }
			}
		}
		NOT = { is_subject = yes }
		any_scope_state = {
			state_is_in_india = yes
			NOT = { state_region = s:STATE_CEYLON }
		}
	}

	possible = {
	}

	when_taken = {
		change_infamy = -5
		if = {
			limit = {
				exists = c:BHT
				c:BHT = { has_variable = ztr_indian_unifier_var }
			}
			every_scope_state = {
				limit = {
					state_is_in_india = yes
					NOT = { state_region = s:STATE_CEYLON }
				}
				set_state_owner = c:BHT
			}
		}
		if = {
			limit = {
				country_is_in_europe = yes 
			}
			create_bidirectional_truce = { country = scope:ztr_indian_unifier_scope months = 120 }
		}
	}

	ai_chance = {
		value = 5	
	}
}

#decolonization_indonesia_decision from indonesian states

#decolonization_new_zealand_decision

#decolonization_china_decision

decolonization_china_decision = {

	is_shown = {
		has_game_rule = allow_ztr_decolonization_content
		has_global_variable = ztr_decolonization_age_var
		NOT = { is_subject = yes }
		NOT = {	country_is_in_china = yes } # Better than using chinese/han culture
		any_scope_state = {
			OR = {
				region = sr:region_north_china
				region = sr:region_south_china
			}
			NOT = { state_region = s:STATE_SHAOZHOU }
			owner = ROOT
		}
		exists = c:CHI # This event only works if China exists
	}

	possible = {
	}

	when_taken = {
		change_infamy = -15
		every_scope_state = {
			limit = {
				OR = {
					region = sr:region_north_china
					region = sr:region_south_china
				}
				NOT = { state_region = s:STATE_SHAOZHOU }
			}
			set_state_owner = c:CHI
		}
		create_bidirectional_truce = { country = c:CHI months = 120 }
		c:CHI = {
			change_relations = {
				country = root
				value = 50
			}
		}
		#Hong Kong WIP TODO
	}

	ai_chance = {
		value = 5	
	}
}