# State Finder Script

ztr_state_finder_script = {
	ordered_scope_state = {
		limit = {
			state_region = {
				is_homeland = scope:ztr_minor_primary_culture
				NOT = { is_homeland = scope:ztr_major_primary_culture }
			}
		}
	order_by = gdp
	save_scope_as = ztr_state_finder
	}
}

# Unincorporated State Finder Script

ztr_unincorporated_state_finder_script = {
	ordered_scope_state = {
		limit = {
			state_region = {
				is_homeland = scope:ztr_minor_primary_culture
				NOT = { is_homeland = scope:ztr_major_primary_culture }
			}
			is_incorporated = no
		}
	order_by = gdp
	save_scope_as = ztr_unincorporated_state_finder
	}
}

# Slovakia Country Creation
ztr_define_slovakia = {
	cu:slovak = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:SLV } }
			create_country = {
				tag    = SLV
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:SLV
		}
	}
}

# Galicia Lodomeria Country Creation
ztr_define_galicia = {
	cu:polish = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:GAL } }
			create_country = {
				tag    = GAL
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:GAL
		}
	}
}

# Hungary Country Creation
ztr_define_hungary = {
	cu:hungarian = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:HUN } }
			create_country = {
				tag    = HUN
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:HUN
		}
	}
}

# Croatia Country Creation
ztr_define_croatia = {
	cu:croat = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:CRO } }
			create_country = {
				tag    = CRO
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:CRO
		}
	}
}

# Republic Venice Creation
ztr_define_republic_venice = {
	cu:north_italian = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:VEN } }
			create_country = {
				tag    = VEN
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:VEN
		}
	}
}

# Bosnia Country Creation
ztr_define_bosnia = {
	cu:bosniak = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:BOS } }
			create_country = {
				tag    = BOS
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:BOS
		}
	}
}

# Albanian Country Creation
ztr_define_albania = {
	cu:albanian = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:ALB } }
			create_country = {
				tag    = ALB
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:ALB
		}
	}
}

# Serbia Country Creation
ztr_define_serbia = {
	cu:serb = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:SER } }
			create_country = {
				tag    = SER
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:SER
		}
	}
}

# Greece Country Creation
ztr_define_greece = {
	cu:greek = {
		save_scope_as = ztr_minor_primary_culture
	}
	if = {
		limit = {
			any_scope_state = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
				count > 0
			}
		}
		ztr_state_finder_script = yes
		if = {
			limit = { NOT = { exists = c:GRE } }
			create_country = {
				tag    = GRE
				origin = this
				state  = SCOPE:ztr_state_finder
				on_created = {
					set_country_type = recognized
					activate_law     = law_type:law_parliamentary_republic
					activate_law     = law_type:law_census_voting
				}
			}
		}
		every_scope_state = {
			limit = {
				state_region = {
					is_homeland = scope:ztr_minor_primary_culture
					NOT = { is_homeland = scope:ztr_major_primary_culture }
				}
			}
			set_state_owner = c:GRE
		}
	}
}
