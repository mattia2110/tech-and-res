remove_state_economy_modifier = {
	hidden_effect = {
		remove_modifier = dev_0_country
		remove_modifier = dev_1_country
		remove_modifier = dev_2_country
		remove_modifier = dev_3_country
		remove_modifier = dev_4_country
		remove_modifier = dev_5_country
		remove_modifier = dev_6_country
		remove_modifier = dev_7_country
		remove_modifier = dev_8_country
	}
}

remove_state_demographic_modifier = {
	hidden_effect = {
		remove_modifier = demographic_stage_0
		remove_modifier = demographic_stage_1
		remove_modifier = demographic_stage_2
		remove_modifier = demographic_stage_3
		remove_modifier = demographic_stage_4
		remove_modifier = demographic_stage_5
		remove_modifier = demographic_stage_6
		remove_modifier = demographic_stage_7
		remove_modifier = demographic_stage_8
	}
}

# State Finder Script

ztr_state_finder_script = {
	ordered_scope_state = {
		limit = {
			NOT = { is_homeland_of_country_cultures = root }
			state_region = {
				is_homeland = scope:ztr_minor_primary_culture
			}
		}
	order_by = gdp
	save_scope_as = ztr_state_finder
	}
}

# Unincorporated State Finder Script

ztr_unincorporated_state_finder_script = {
	ordered_scope_state = {
		limit = {
			NOT = { is_homeland_of_country_cultures = root }
			state_region = {
				is_homeland = scope:ztr_minor_primary_culture
			}
			is_incorporated = no
		}
	order_by = gdp
	save_scope_as = ztr_unincorporated_state_finder
	}
}

# Religions Script

african_religion_setting = {
	if = {
		limit = {
			religion_percent_country = {
				target = rel:catholic
				value >= 0.5
			}
		}
		set_state_religion = rel:catholic
	}
	else_if = {
		limit = {
			religion_percent_country = {
				target = rel:protestant
				value >= 0.5
			}
		}
		set_state_religion = rel:protestant
	}
	else_if = {
		limit = {
			religion_percent_country = {
				target = rel:sunni
				value >= 0.5
			}
		}
		set_state_religion = rel:sunni
	}
	else = {
		set_state_religion = rel:sunni
	}
}

# Liberty Index Triggers

calculate_liberty_index = {
	# Here we give cake only if the law gives more liberty than worst case, which will always value 0
	set_variable = {
		name = liberty_index_var
		value = 0
	}
	# Governance Principles
	if = {
		limit = {
			has_law_or_variant = law_type:law_parliamentary_republic
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = {
			OR = {	
				has_law_or_variant = law_type:law_monarchy
				has_law_or_variant = law_type:law_presidential_republic
			}
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_council_republic }
		change_variable = {
			name = liberty_index_var
			add = 3
		}
	}
	else_if = {
		limit = {
			OR = {	
				has_law_or_variant = law_type:law_theocracy
				has_law_or_variant = law_type:law_corporate_state
			}
		}
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}

	# Distribution of Power
	if = {
		limit = { has_law_or_variant = law_type:law_universal_suffrage }
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_census_voting }
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_wealth_voting }
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_landed_voting }
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
	else_if = {
		limit = {
			OR = {
				has_law_or_variant = law_type:law_technocracy
				has_law_or_variant = law_type:law_anarchy
			}
		}
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}

	# Religion
	if = {
		limit = { has_law_or_variant = law_type:law_total_separation }
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_freedom_of_conscience }
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_state_atheism }
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}

	# Bureaucracy
	if = {
		limit = { has_law_or_variant = law_type:law_elected_bureaucrats }
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_appointed_bureaucrats }
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_hereditary_bureaucrats }
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}

	# Internal Security
	if = {
		limit = { has_law_or_variant = law_type:law_guaranteed_liberties }
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_no_home_affairs }
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { has_law_or_variant = law_type:law_secret_police }
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}

	# Economic System
	if = {
		limit = { 
			has_law_or_variant = law_type:law_laissez_faire
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_interventionism
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}

	# Trade Policy
	if = {
		limit = { 
			has_law_or_variant = law_type:law_free_trade
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_protectionism
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}

	# Taxation
	if = {
		limit = { 
			has_law_or_variant = law_type:law_graduated_taxation
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_proportional_taxation
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_per_capita_based_taxation
		}
		change_variable = {
			name = liberty_index_var
			add = 3
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}

	# Farming Policy
	if = {
		limit = { 
			has_law_or_variant = law_type:law_tenant_farmers
		}
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_serfdom
		}
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}

	# Police
	if = {
		limit = { 
			has_law_or_variant = law_type:law_militarized_police
		}
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}

	# Education System
	if = {
		limit = {
			has_law_or_variant = law_type:law_public_schools
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_no_schools
		}
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}

	# Advanced Education System - Child Rights
	if = {
		limit = { 
			has_law_or_variant = law_type:law_public_universities
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_compulsory_secondary_school
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_compulsory_primary_school
		}
		change_variable = {
			name = liberty_index_var
			add = 3
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Health System
	if = {
		limit = { 
			has_law_or_variant = law_type:law_no_health_system
		}
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_public_health_insurance
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}

	# Free Speech
	if = {
		limit = { 
			has_law_or_variant = law_type:law_protected_speech
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_right_of_assembly
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_censorship
		}
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Labor Rights
	if = {
		limit = { 
			has_law_or_variant = law_type:law_worker_protections
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_regulatory_bodies
		}
		change_variable = {
			name = liberty_index_var
			add = 3
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Welfare
	if = {
		limit = { 
			has_law_or_variant = law_type:law_old_age_pension
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_wage_subsidies
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_poor_laws
		}
		change_variable = {
			name = liberty_index_var
			add = 3
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Labor Associations
	if = {
		limit = { 
			has_law_or_variant = law_type:law_right_to_associate
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_anti_strike_laws
		}
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Women's Rights - LGBTQ+ Rights
	if = {
		limit = {
			OR = {
				has_law_or_variant = law_type:lgbtq_full_gender_equality
				has_law_or_variant = law_type:lgbtq_civil_unions
			}
		}
		change_variable = {
			name = liberty_index_var
			add = 6
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:lgbtq_sex_equality
		}
		change_variable = {
			name = liberty_index_var
			add = 5
		}
	}
	else_if = {
		limit = { 
			has_law_or_variant = law_type:law_womens_suffrage
		}
		change_variable = {
			name = liberty_index_var
			add = 4
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_women_in_the_workplace
		}
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_women_own_property
		}
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}

	# Life Rights
	if = {
		limit = {
			has_law_or_variant = law_type:law_life_rights
		}
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}

	# Data Rights
	if = {
		limit = {
			has_law_or_variant = law_type:law_data_free_harvest
		}
		change_variable = {
			name = liberty_index_var
			add = 0
		}
	}
	else_if = {
		limit = {
			has_law_or_variant = law_type:law_data_privacy_basic
		}
		change_variable = {
			name = liberty_index_var
			add = 1
		}
	}
	else = {
		change_variable = {
			name = liberty_index_var
			add = 2
		}
	}
}

# There are some laws that will cap the maximum liberty index a country can have
#calculate_max_liberty_index