je_demographic_0_to_1 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			# Country parameters conditions
			if = {
				limit = {
					OR = {
						NOT = { has_modifier = dev_0_country }
						year > 1900
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					average_sol > 10
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					literacy_rate > 0.3
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.2
				}
			}
			# Flavor conditions
			if = {
				limit = {
					OR = {
						country_has_state_religion = rel:sunni
						country_has_state_religion = rel:shiite
						AND = {
							exists = c:DEI
							c:DEI = this #Since Dutch East Indies is prostestant, but actually Indonesia is muslim
						}
						AND = {
							exists = c:BIC
							c:BIC = this #Since British Indian Ocean Territory is protestant, but actually Pakistan and Bangladesh are muslim
						}
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_1
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_1_to_2
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_0
	# }

	progressbar = yes

	weight = 1
}

je_demographic_1_to_2 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			if = {
				limit = {
					year > 1950
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.5
				}
			}
			# Country parameters condition
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }					
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.25
				}
			}
			if = {
				limit = {
					average_sol > 12
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					literacy_rate > 0.4
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.2
				}
			}
			# Flavor conditions
			if = {
				limit = {
					OR = {
						has_building = building_white_house
						country_has_state_religion = rel:sunni
						country_has_state_religion = rel:shiite
						AND = {
							exists = c:DEI
							c:DEI = this #Since Dutch East Indies is prostestant, but actually Indonesia is muslim
						}
						AND = {
							exists = c:BIC
							c:BIC = this #Since British Indian Ocean Territory is protestant, but actually Pakistan and Bangladesh are Muslim
						}
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_2
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_2_to_3
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_1
	# }

	progressbar = yes

	weight = 1
}

je_demographic_2_to_3 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			if = {
				limit = {
					year > 1980
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.5
				}
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.25
				}
			}
			if = {
				limit = {
					average_sol > 14
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					literacy_rate > 0.5
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.2
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.1
				}
			}
			# Flavor conditions
			if = {
				limit = {
					OR = {
						has_building = building_white_house
						country_has_state_religion = rel:sunni
						country_has_state_religion = rel:shiite
						AND = {
							exists = c:DEI
							c:DEI = this #Since Dutch East Indies is prostestant, but actually Indonesia is muslim
						}
						AND = {
							exists = c:BIC
							c:BIC = this #Since British Indian Ocean Territory is protestant, but actually Pakistan and Bangladesh are Muslim
						}
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_3
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_3_to_4
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_2
	# }

	progressbar = yes

	weight = 1
}

je_demographic_3_to_4 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			if = {
				limit = {
					year > 2000
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.5
				}
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
					NOT = { has_modifier = dev_3_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.3
				}
			}
			if = {
				limit = {
					average_sol > 16
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					literacy_rate > 0.6
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.2
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.1
				}
			}
			# Flavor conditions
			if = {
				limit = {
					OR = {
						has_building = building_white_house
						country_has_state_religion = rel:sunni
						country_has_state_religion = rel:shiite
						AND = {
							exists = c:DEI
							c:DEI = this #Since Dutch East Indies is prostestant, but actually Indonesia is muslim
						}
						AND = {
							exists = c:BIC
							c:BIC = this #Since British Indian Ocean Territory is protestant, but actually Pakistan and Bangladesh are Muslim
						}
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_4
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_4_to_5
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_3
	# }

	progressbar = yes

	weight = 1
}

je_demographic_4_to_5 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
					NOT = { has_modifier = dev_3_country }
					NOT = { has_modifier = dev_4_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.25
				}
			}
			if = {
				limit = {
					OR = {
						average_sol > 17
						year > 1950
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					OR = {
						literacy_rate > 0.65
						year > 1950
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.1
				}
			}
			# Flavor conditions (Sunni in advanced demographic stage do not have this bonus)
			if = {
				limit = {
					has_building = building_white_house
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_5
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_5_to_6
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_4
	# }

	progressbar = yes

	weight = 1
}

je_demographic_5_to_6 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
					NOT = { has_modifier = dev_3_country }
					NOT = { has_modifier = dev_4_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.25
				}
			}
			if = {
				limit = {
					OR = {
						average_sol > 18
						year > 1960
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			if = {
				limit = {
					OR = {
						literacy_rate > 0.7
						year > 1960
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.4
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.5
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_private_health_insurance
						has_law = law_type:law_public_health_insurance
					}
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.1
				}
			}
			# Flavor conditions Flavor conditions (Sunni in advanced demographic stage do not have this bonus)
			if = {
				limit = {
					has_building = building_white_house
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_6
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_6_to_7
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_5
	# }

	progressbar = yes

	weight = 1
}

je_demographic_6_to_7 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
					NOT = { has_modifier = dev_3_country }
					NOT = { has_modifier = dev_4_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.2
				}
			}
			if = {
				limit = {
					year > 1970
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.5
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.5
				}
			}
			# Flavor conditions Flavor conditions (Sunni in advanced demographic stage do not have this bonus)
			if = {
				limit = {
					has_building = building_white_house
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_7
		remove_variable = demographic_stage_var
		add_journal_entry = {
			type = je_demographic_7_to_8
		}
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_6
	# }

	progressbar = yes

	weight = 1
}

je_demographic_7_to_8 = {
	icon = "gfx/interface/icons/event_icons/medical_degrees.dds"
	group = je_group_technology

	is_shown_when_inactive = {
	}

	possible = {
	}

	immediate = {
		set_variable = {
			name = demographic_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			change_variable = {
				name = demographic_stage_var
				add = 1
			}
			# Country parameters conditions
			if = {
				limit = {
					NOT = { has_modifier = dev_0_country }
					NOT = { has_modifier = dev_1_country }
					NOT = { has_modifier = dev_2_country }
					NOT = { has_modifier = dev_3_country }
					NOT = { has_modifier = dev_4_country }
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.2
				}
			}
			if = {
				limit = {
					year > 1970
				}
				change_variable = {
					name = demographic_stage_var
					add = 0.5
				}
			}
			# Laws conditions
			if = {
				limit = {
					NOT = { has_law = law_type:law_slavery_banned }
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
			if = {
				limit = {
					OR = {
						has_law = law_type:law_multicultural
						has_law = law_type:law_no_migration_controls
					}
					OR = {
						total_population < 200000000
						country_is_in_americas = yes #Americas are a special case due to the fact that they are countries of immigrants, but they still have to have one of the two laws activated.
					}
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.5
				}
			}
			# Flavor conditions Flavor conditions (Sunni in advanced demographic stage do not have this bonus)
			if = {
				limit = {
					has_building = building_white_house
				}
				change_variable = {
					name = demographic_stage_var
					subtract = 0.3
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_state_demographic_modifier = yes
		add_modifier = demographic_stage_8
		remove_variable = demographic_stage_var
	}

	transferable = no

	current_value = {
		value = var:demographic_stage_var
	}

	goal_add_value = {
		value = 30
	}

	# modifiers_while_active = {
	# 	demographic_stage_7
	# }

	progressbar = yes

	weight = 1
}