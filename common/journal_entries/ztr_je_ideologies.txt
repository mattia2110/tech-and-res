# Early Progressist Ideologies

je_old_progressive_ideologies = {
	icon = "gfx/interface/icons/event_icons/event_election.dds"

	group = je_group_historical_content

	is_shown_when_inactive = {
		NOT = { has_variable = has_progressist_ideology }
	}

	possible = {
		NOT = { has_variable = has_progressist_ideology }
	}

	immediate = {
		set_variable = {
			name = ideology_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			if = {
				limit = {
					has_technology_researched = human_rights
					OR = {
						has_modifier = dev_3_country
						has_modifier = dev_4_country
						has_modifier = dev_5_country
						has_modifier = dev_6_country
						has_modifier = dev_7_country
						has_modifier = dev_8_country
					}
				}
				change_variable = {
					name = ideology_stage_var
					add = 1
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_variable = ideology_stage_var
		set_variable = {
			name = has_progressist_ideology
			value = 1
		}
		#BPM Ideologies
		if = {
			limit = { BPM_is_active_trigger = yes}
			ig:ig_agrarian_populists = {
				add_ideology = ideology_extreme_traditionalist
				add_ideology = ideology_moderate_ambientalist
			}
			ig:ig_anarchists = {
				add_ideology = ideology_extreme_progressist
			}
			ig:ig_christian_democrats = {
				add_ideology = ideology_extreme_traditionalist	
			}
			ig:ig_conservatives = {
				add_ideology = ideology_extreme_traditionalist
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_fascists = {
				add_ideology = ideology_extreme_traditionalist
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_liberals = {
				add_ideology = ideology_moderate_progressist
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_market_liberals = {
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_national_liberals = {
				add_ideology = ideology_moderate_traditionalist
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_radicals = {
				add_ideology = ideology_moderate_progressist
				add_ideology = ideology_moderate_ambientalist
			}
			ig:ig_reactionaries = {
				add_ideology = ideology_extreme_traditionalist
			}
			ig:ig_reformist_socialists = {
				add_ideology = ideology_moderate_progressist
			}
			ig:ig_revolutionist_socialists = {
				add_ideology = ideology_moderate_progressist
				add_ideology = ideology_neg_ambientalist
			}
			ig:ig_socialists = {
				add_ideology = ideology_moderate_progressist
			}
		}
		ig:ig_landowners = {
			add_ideology = ideology_extreme_traditionalist
		}
		ig:ig_armed_forces = {
			add_ideology = ideology_extreme_traditionalist
			add_ideology = ideology_neg_ambientalist
		}
		ig:ig_devout = {
			add_ideology = ideology_extreme_traditionalist
		}
		ig:ig_industrialists = {
			add_ideology = ideology_moderate_progressist
			add_ideology = ideology_neg_ambientalist
		}
		ig:ig_intelligentsia = {
			add_ideology = ideology_moderate_progressist
			add_ideology = ideology_moderate_ambientalist
		}
		ig:ig_petty_bourgeoisie = {
			add_ideology = ideology_moderate_traditionalist
		}
		ig:ig_rural_folk = {
			add_ideology = ideology_moderate_traditionalist
		}
		ig:ig_trade_unions = {
			add_ideology = ideology_moderate_progressist
		}
		add_journal_entry = {
			type = je_mid_progressive_ideologies
		}
	}

	transferable = no

	current_value = {
		value = var:ideology_stage_var
	}

	goal_add_value = {
		value = 1
	}

	weight = 2
}

# Mid Progressist Ideologies

je_mid_progressive_ideologies = {
	icon = "gfx/interface/icons/event_icons/event_election.dds"

	group = je_group_historical_content

	is_shown_when_inactive = {
		has_variable = has_progressist_ideology
		var:has_progressist_ideology = 1
	}

	possible = {
		has_variable = has_progressist_ideology
		var:has_progressist_ideology = 1
	}

	immediate = {
		set_variable = {
			name = ideology_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			if = {
				limit = {
					has_technology_researched = socialdemocracy
					OR = {
						has_modifier = dev_4_country
						has_modifier = dev_5_country
						has_modifier = dev_6_country
						has_modifier = dev_7_country
						has_modifier = dev_8_country
					}
				}
				change_variable = {
					name = ideology_stage_var
					add = 1
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_variable = ideology_stage_var
		change_variable = {
			name = has_progressist_ideology
			add = 1
		}
		#BPM Ideologies
		if = {
			limit = { BPM_is_active_trigger = yes}
			ig:ig_agrarian_populists = {
				remove_ideology = ideology_moderate_ambientalist
				add_ideology = ideology_extreme_ambientalist
			}
			ig:ig_anarchists = {
				add_ideology = ideology_moderate_ambientalist
			}
			ig:ig_christian_democrats = {
				remove_ideology = ideology_extreme_traditionalist
				add_ideology = ideology_moderate_traditionalist
			}
			ig:ig_conservatives = {
				remove_ideology = ideology_extreme_traditionalist
				add_ideology = ideology_moderate_traditionalist
				remove_ideology = ideology_neg_ambientalist
			}
			# ig:ig_fascists = {
			# }
			ig:ig_liberals = {
				remove_ideology = ideology_neg_ambientalist
				add_ideology = ideology_moderate_ambientalist
			}
			# ig:ig_market_liberals = {
			# 	add_ideology = ideology_moderate_progressist
			# 	add_ideology = ideology_neg_ambientalist
			# }
			ig:ig_national_liberals = {
				remove_ideology = ideology_moderate_traditionalist
			}
			ig:ig_radicals = {
				remove_ideology = ideology_moderate_progressist
				add_ideology = ideology_extreme_progressist
				remove_ideology = ideology_moderate_ambientalist
				add_ideology = ideology_extreme_ambientalist
			}
			# ig:ig_reactionaries = {
			# }
			ig:ig_reformist_socialists = {
				add_ideology = ideology_moderate_ambientalist
			}
			ig:ig_revolutionist_socialists = {
				remove_ideology = ideology_moderate_progressist
				add_ideology = ideology_extreme_progressist
				remove_ideology = ideology_neg_ambientalist
			}
			ig:ig_socialists = {
				remove_ideology = ideology_moderate_progressist
				add_ideology = ideology_extreme_progressist
				add_ideology = ideology_moderate_ambientalist
			}
		}
		# ig:ig_landowners = {
		# 	remove_ideology = ideology_extreme_traditionalist
		# }
		# ig:ig_armed_forces = {
		# 	remove_ideology = ideology_extreme_traditionalist
		# 	add_ideology = ideology_moderate_traditionalist
		# }
		ig:ig_devout = {
			remove_ideology = ideology_extreme_traditionalist
			add_ideology = ideology_moderate_traditionalist
			add_ideology = ideology_moderate_ambientalist
		}
		# ig:ig_industrialists = {
		# 	remove_ideology = ideology_moderate_progressist
		# }
		# ig:ig_intelligentsia = {
		# 	remove_ideology = ideology_moderate_progressist
		# }
		ig:ig_petty_bourgeoisie = {
			add_ideology = ideology_neg_ambientalist
		}
		ig:ig_rural_folk = {
			add_ideology = ideology_moderate_ambientalist
		}
		ig:ig_trade_unions = {
			remove_ideology = ideology_moderate_progressist
			add_ideology = ideology_extreme_progressist
			add_ideology = ideology_moderate_ambientalist
		}
		add_journal_entry = {
			type = je_late_progressive_ideologies
		}
	}

	current_value = {
		value = var:ideology_stage_var
	}

	goal_add_value = {
		value = 1
	}

	transferable = no

	weight = 2
}

# Late Progressist Ideologies

je_late_progressive_ideologies = {
	icon = "gfx/interface/icons/event_icons/event_election.dds"

	group = je_group_historical_content

	immediate = {
		set_variable = {
			name = ideology_stage_var
			value = 0
		}
	}

	on_yearly_pulse = {
		effect = {
			if = {
				limit = {
					has_technology_researched = neoliberism
					OR = {
						has_modifier = dev_5_country
						has_modifier = dev_6_country
						has_modifier = dev_7_country
						has_modifier = dev_8_country
					}
				}
				change_variable = {
					name = ideology_stage_var
					add = 1
				}
			}
		}
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		remove_variable = ideology_stage_var
		change_variable = {
			name = has_progressist_ideology
			add = 1
		}
		#BPM Ideologies
		if = {
			limit = { BPM_is_active_trigger = yes}
			# ig:ig_agrarian_populists = {
			# }
			ig:ig_anarchists = {
				remove_ideology = ideology_moderate_ambientalist
				add_ideology = ideology_extreme_ambientalist
			}
			ig:ig_christian_democrats = {
				add_ideology = ideology_moderate_ambientalist
			}
			ig:ig_conservatives = {
				add_ideology = ideology_moderate_ambientalist
			}
			# ig:ig_fascists = {
			# }
			ig:ig_liberals = {
				remove_ideology = ideology_moderate_progressist
				add_ideology = ideology_extreme_progressist
				remove_ideology = ideology_moderate_ambientalist
				add_ideology = ideology_neoliberal_ambientalist
				# Liberals are more progressive than market_liberals
			}
			ig:ig_market_liberals = {
				add_ideology = ideology_neoliberal_progressist
				remove_ideology = ideology_neg_ambientalist
				add_ideology = ideology_neoliberal_ambientalist
			}
			ig:ig_national_liberals = {
				remove_ideology = ideology_neg_ambientalist
				add_ideology = ideology_neoliberal_ambientalist
			}
			# ig:ig_radicals = {
			# }
			# ig:ig_reactionaries = {
			# }
			ig:ig_reformist_socialists = {
				remove_ideology = ideology_moderate_progressist
				add_ideology = ideology_neoliberal_progressist
			}
			# ig:ig_revolutionist_socialists = {
			# }
			# ig:ig_socialists = {
			# }
		}
		ig:ig_landowners = {
			remove_ideology = ideology_extreme_traditionalist
			add_ideology = ideology_neoliberal_progressist
		}
		ig:ig_armed_forces = {
			remove_ideology = ideology_extreme_traditionalist
			add_ideology = ideology_moderate_traditionalist
			remove_ideology = ideology_neg_ambientalist
		}
		# ig:ig_devout = {
		# 	remove_ideology = ideology_moderate_traditionalist
		# }
		ig:ig_industrialists = {
			remove_ideology = ideology_moderate_progressist
			add_ideology = ideology_neoliberal_progressist
			remove_ideology = ideology_neg_ambientalist
			add_ideology = ideology_neoliberal_ambientalist
		}
		ig:ig_intelligentsia = {
			remove_ideology = ideology_moderate_progressist
			add_ideology = ideology_extreme_progressist
		}
		# ig:ig_petty_bourgeoisie = {
		# 	remove_ideology = ideology_moderate_traditionalist
		# }
		ig:ig_rural_folk = {
			remove_ideology = ideology_moderate_ambientalist
			add_ideology = ideology_extreme_ambientalist
		}
		# ig:ig_trade_unions = {
		# 	remove_ideology = ideology_extreme_progressist
		# }
	}

	current_value = {
		value = var:ideology_stage_var
	}

	goal_add_value = {
		value = 1
	}

	transferable = no

	weight = 2
}